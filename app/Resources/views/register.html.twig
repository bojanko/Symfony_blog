{% extends 'page.html.twig' %}

{% block title %}Register{% endblock %}

{% block content %}

{% for flash_message in app.session.flashBag.get('flash_msg') %}
    <div class="alert alert-success">
        {{ flash_message }}
    </div>
	<br />
{% endfor %}

{{ form_start(form, {'attr': {'novalidate': 'novalidate'}}) }}
    {{ form_errors(form) }}
    <div>
        {{ form_label(form.username) }}
	</div><div>
        {{ form_errors(form.username) }}
	</div><div>
		{% if form_errors(form.username) %}
			{{ form_widget(form.username, {'attr': {'class': 'form-control is-invalid'}}) }}
		{% else %}
			{{ form_widget(form.username, {'attr': {'class': 'form-control'}}) }}
		{% endif %}
    </div>
	<br />
    <div>
        {{ form_label(form.email) }}
	</div><div>
        {{ form_errors(form.email) }}
	</div><div>
		{% if form_errors(form.email) %}
			{{ form_widget(form.email, {'attr': {'class': 'form-control is-invalid'}}) }}
		{% else %}
			{{ form_widget(form.email, {'attr': {'class': 'form-control'}}) }}
		{% endif %}
    </div>
	<br />
    <div>
        {{ form_label(form.password.first) }}
	</div><div>
        {{ form_errors(form.password.first) }}
	</div><div>
		{% if form_errors(form.password.first) %}
			{{ form_widget(form.password.first, {'attr': {'class': 'form-control is-invalid', 'rows': '8'}}) }}
		{% else %}
			{{ form_widget(form.password.first, {'attr': {'class': 'form-control', 'rows': '8'}}) }}
		{% endif %}
    </div>
	<br />
    <div>
        {{ form_label(form.password.second) }}
	</div><div>
        {{ form_errors(form.password.second) }}
	</div><div>
		{% if form_errors(form.password.second) %}
			{{ form_widget(form.password.second, {'attr': {'class': 'form-control is-invalid', 'rows': '8'}}) }}
		{% else %}
			{{ form_widget(form.password.second, {'attr': {'class': 'form-control', 'rows': '8'}}) }}
		{% endif %}
    </div>
	<br />
    <div>
        {{ form_widget(form.save, {'attr': {'class': 'btn btn-info btn-block'}}) }}
    </div>
{{ form_end(form) }}
{% endblock %}

{% block sidebar %}
    {{ render(controller('AppBundle:LatestPosts:posts')) }}
    {{ render(controller('AppBundle:Categories:categories')) }}
	{{ render(controller('AppBundle:AboutWidget:about')) }}
{% endblock %}